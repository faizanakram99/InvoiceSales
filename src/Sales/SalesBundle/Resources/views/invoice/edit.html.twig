{% extends 'base.html.twig' %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('bundles/css/jquery-ui.min.css') }}" />
    <link rel="stylesheet" href="{{ asset('bundles/css/jquery-ui.structure.min.css') }}" />
    <link rel="stylesheet" href="{{ asset('bundles/css/jquery-ui.theme.min.css') }}" />
{% endblock %}

{% block title %} | Edit Invoice {% endblock %}
{% block body %}
    <h1>Invoice edit</h1>

    {{ form_start(edit_form) }}
        <div class="form-group">
            {{ form_row(edit_form.number, {'attr': {'class': 'form-control', 'placeholder' : 'Number'}}) }}
        </div>
        <div class="form-group">
            {{ form_row(edit_form.address, {'attr': {'class': 'form-control', 'placeholder' : 'Address'}}) }}
        </div>

        <div class="form-group">
            {{ form_row(edit_form.email, {'attr': {'class': 'form-control', 'placeholder' : 'Email'}}) }}
        </div>

        <div class="form-group">
            {{ form_row(edit_form.date, {'attr': {'class': 'form-control'}}) }}
        </div>

        <div id="addDiv" class="form-group row edit-form">
            {% set j = 0 %}
            {% for product in edit_form.products %}
                <div>
                    <div class="col-xs-12 col-md-8">
                        {{ form_row(product.description, {'attr': {'class': 'form-control', 'placeholder' : 'Description'}}) }}
                    </div>

                    <div class="col-xs-6 col-md-4">
                        {{ form_row(product.amount, {'attr': {'class': 'form-control', 'placeholder' : 'Amount'}}) }}
                    </div>
                </div>

                <div class="clearfix"></div>
                <hr />
            {% endfor %}

        </div>


        <div class="clearfix"></div>

        <div class="row">

            <div class="form-group col-xs-4">
                <input type="submit" value="Save" class="btn btn-info btn-block" />
            </div>


            <div class="col-xs-4">
                <a href="{{ path('invoice_index') }}" class="btn btn-block btn-info">Back to Invoice List</a>
            </div>

            {{ form_row(edit_form.products) }}
            {{ form_end(edit_form) }}

            <div class="col-xs-4">
                {{ form_start(delete_form) }}
                    <input type="Save" value="Delete" class="btn btn-block btn-info">
                {{ form_end(delete_form) }}
            </div>
        </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/js/jquery-ui.min.js') }}"></script>
    <script>
        $(function() {
            var invoiceDate = $( "#invoice_date" );
            invoiceDate.each(function(){
                this.type="text";
            });
            invoiceDate.datepicker({
                dateFormat: 'yy-mm-dd',
                minDate: 0
            });
        });
    </script>
{% endblock %}